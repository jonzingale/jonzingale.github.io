<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en-us">
  <head>
    <script src="/colorSummaries/js/d3.v4.min.js" type="text/javascript"></script>
    <script src="/explorables/js/d3-scale-chromatic.v1.min.js"></script>
    <link href="/galois/primitive-roots.css" rel="stylesheet" type="text/css" />
    <link href="/galois/widget.v3.css" rel="stylesheet" type="text/css" />
    <script src='/galois/widget.v3.5.js' type='text/javascript'></script>
  </head>

  <div class='din-title'>primitive roots modulo n</div>
  <main role="main">
    <div class='grid-container'></div>
    <div class='group-controls'>
    </div>
  </main>

  <script>
    const width = 500
    const k = 0.9
    var gSize = 7

    function render() {
    var prims = primitives(gSize)
    var pLen = Math.sqrt(prims.length)
    var cSize = width / pLen

    var container = 
      d3.selectAll('.grid-container').append('svg')
      .attr('height', width+30).attr('width', width+30)

    var gridContainer = container.append('rect')
      .attr('height', width+10*k)
      .attr('width', width+10*k)
      .attr('class', 'grid')

    var groupContainer = container.append("g")
    var group = groupContainer.selectAll('rect')
      .data(prims).enter().append('rect')
      .attr('transform', 'translate(6,6)')
      .attr("fill", d => d3.interpolateSpectral(d/gSize) )
      .attr('x', (d, i) => cSize * mod(i, pLen) )
      .attr('y', (d, i) => cSize * div(i, pLen) )
      .attr("width", d => cSize * k)
      .attr("height", d => cSize * k)
    }

  </script>
  <script src='/galois/helpers.js' type='text/javascript'></script>
</html>
